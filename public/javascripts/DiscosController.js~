var app = angular.module("catalogoDisco",[]);
     app.controller("catalogoDiscoCtrl",function($scope){
      $scope.titulo = "Catalogo de Discos";

   
    /*  $scope.discos=[{artista:"pedro",album:"pedras",genero:"axe",ano:"1990"},
                     {artista:"marcos",album:"marcando",genero:"pank",ano:"2014"}];
        */

      $scope.adicionaDisco=function(disco){
      $scope.discos.push(angular.copy(disco));
      delete $scope.disco;
      };


     $scope.editaDisco = function(index){
        $scope.disco = $scope.discos[index];
        $scope.edit = true;
       };

     $scope.deletaDisco = function(index){
        $scope.discos.splice(index, 1);
       };

    });
 function DiscosController($scope, $http) {

   function Disco() {
    this.artista = '';
    this.album = '';
    this.genero = '';
    this.ano = '';
   }

   $scope.disco = new Disco();

   $scope.discos = [];

   $http.get('/discos').success(function(retorno) {
   $scope.discos = retorno.discos;
   });
   
   $scope.editaDisco = function(index){
   $scope.disco = $scope.discos[index];
   $scope.edit = true;
   };

   $scope.adicionaDisco = function() {
   $http.post('/disco', $scope.disco).success(function() {
   $scope.discos.push($scope.disco);
   $scope.disco = new Disco();
  });
 }

}
